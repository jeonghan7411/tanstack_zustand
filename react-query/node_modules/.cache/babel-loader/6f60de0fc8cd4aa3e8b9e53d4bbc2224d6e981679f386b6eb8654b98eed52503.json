{"ast":null,"code":"var _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$();\nimport { useMutation, useQuery, useQueryClient } from \"@tanstack/react-query\";\nimport BOARD_API from \"../api/Board\";\nconst queryClient = useQueryClient();\n\n// 게시물  리스트\nexport const useBoardList = () => {\n  _s();\n  return useQuery({\n    queryKey: [\"boardList\"],\n    queryFn: BOARD_API.boardList,\n    cacheTime: 60000\n  });\n};\n\n// 게시물  상세 \n_s(useBoardList, \"4ZpngI1uv+Uo3WQHEZmTQ5FNM+k=\", false, function () {\n  return [useQuery];\n});\nexport const useBoardDetail = idx => {\n  _s2();\n  return useQuery({\n    queryKey: [\"board\", idx],\n    queryFn: () => BOARD_API.board(idx),\n    enabled: !!idx // idx가 있을때만 실행\n  });\n};\n_s2(useBoardDetail, \"4ZpngI1uv+Uo3WQHEZmTQ5FNM+k=\", false, function () {\n  return [useQuery];\n});\nexport const useBoardCreate = () => {\n  _s3();\n  // const queryClient = useQueryClient();\n  return useMutation({\n    mutationFn: BOARD_API.createBoard,\n    onSuccess: () => {\n      queryClient.invalidateQueries([\"board\"]);\n    },\n    onError: error => {\n      console.error(\"Error  : \", error);\n    }\n  });\n};\n_s3(useBoardCreate, \"wwwtpB20p0aLiHIvSy5P98MwIUg=\", false, function () {\n  return [useMutation];\n});\nexport const useBoardDelete = () => {\n  _s4();\n  // const queryClient = useQueryClient();\n  return useMutation({\n    mutationFn: () => BOARD_API.deleteBoard(idx),\n    onSuccess: () => {\n      queryClient.invalidateQueries([\"board\"], idx);\n    },\n    onError: error => {\n      console.error(\"Error : \", error);\n    }\n  });\n};\n_s4(useBoardDelete, \"wwwtpB20p0aLiHIvSy5P98MwIUg=\", false, function () {\n  return [useMutation];\n});","map":{"version":3,"names":["useMutation","useQuery","useQueryClient","BOARD_API","queryClient","useBoardList","_s","queryKey","queryFn","boardList","cacheTime","useBoardDetail","idx","_s2","board","enabled","useBoardCreate","_s3","mutationFn","createBoard","onSuccess","invalidateQueries","onError","error","console","useBoardDelete","_s4","deleteBoard"],"sources":["/Users/bangjeonghan/Desktop/study/react/react-query/src/queries/useBoardQueries.js"],"sourcesContent":["import { useMutation, useQuery, useQueryClient } from \"@tanstack/react-query\";\nimport BOARD_API from \"../api/Board\";\n\n\nconst queryClient = useQueryClient();\n\n// 게시물  리스트\nexport const useBoardList = () => {\n  return useQuery({\n    queryKey: [\"boardList\"],\n    queryFn: BOARD_API.boardList,\n    cacheTime: 60000,\n  })\n};\n\n// 게시물  상세 \nexport const useBoardDetail = (idx) => {\n  return useQuery({\n    queryKey: [\"board\",idx],\n    queryFn: () => BOARD_API.board(idx),\n    enabled : !!idx // idx가 있을때만 실행\n  })\n};\n\nexport const useBoardCreate = () => {\n  // const queryClient = useQueryClient();\n  return useMutation({\n    mutationFn:BOARD_API.createBoard,\n    onSuccess: () => {\n      queryClient.invalidateQueries([\"board\"])\n    },\n    onError: (error) => {\n      console.error(\"Error  : \", error);\n    },\n  });\n}\n\nexport const useBoardDelete = () => {\n  // const queryClient = useQueryClient();\n  return useMutation({\n    mutationFn:() => BOARD_API.deleteBoard(idx),\n    onSuccess: () => {\n      queryClient.invalidateQueries([\"board\"],idx);\n    },\n    onError:(error) => {\n      console.error(\"Error : \", error);\n    },\n  })\n};"],"mappings":";;;;AAAA,SAASA,WAAW,EAAEC,QAAQ,EAAEC,cAAc,QAAQ,uBAAuB;AAC7E,OAAOC,SAAS,MAAM,cAAc;AAGpC,MAAMC,WAAW,GAAGF,cAAc,CAAC,CAAC;;AAEpC;AACA,OAAO,MAAMG,YAAY,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAChC,OAAOL,QAAQ,CAAC;IACdM,QAAQ,EAAE,CAAC,WAAW,CAAC;IACvBC,OAAO,EAAEL,SAAS,CAACM,SAAS;IAC5BC,SAAS,EAAE;EACb,CAAC,CAAC;AACJ,CAAC;;AAED;AAAAJ,EAAA,CARaD,YAAY;EAAA,QAChBJ,QAAQ;AAAA;AAQjB,OAAO,MAAMU,cAAc,GAAIC,GAAG,IAAK;EAAAC,GAAA;EACrC,OAAOZ,QAAQ,CAAC;IACdM,QAAQ,EAAE,CAAC,OAAO,EAACK,GAAG,CAAC;IACvBJ,OAAO,EAAEA,CAAA,KAAML,SAAS,CAACW,KAAK,CAACF,GAAG,CAAC;IACnCG,OAAO,EAAG,CAAC,CAACH,GAAG,CAAC;EAClB,CAAC,CAAC;AACJ,CAAC;AAACC,GAAA,CANWF,cAAc;EAAA,QAClBV,QAAQ;AAAA;AAOjB,OAAO,MAAMe,cAAc,GAAGA,CAAA,KAAM;EAAAC,GAAA;EAClC;EACA,OAAOjB,WAAW,CAAC;IACjBkB,UAAU,EAACf,SAAS,CAACgB,WAAW;IAChCC,SAAS,EAAEA,CAAA,KAAM;MACfhB,WAAW,CAACiB,iBAAiB,CAAC,CAAC,OAAO,CAAC,CAAC;IAC1C,CAAC;IACDC,OAAO,EAAGC,KAAK,IAAK;MAClBC,OAAO,CAACD,KAAK,CAAC,WAAW,EAAEA,KAAK,CAAC;IACnC;EACF,CAAC,CAAC;AACJ,CAAC;AAAAN,GAAA,CAXYD,cAAc;EAAA,QAElBhB,WAAW;AAAA;AAWpB,OAAO,MAAMyB,cAAc,GAAGA,CAAA,KAAM;EAAAC,GAAA;EAClC;EACA,OAAO1B,WAAW,CAAC;IACjBkB,UAAU,EAACA,CAAA,KAAMf,SAAS,CAACwB,WAAW,CAACf,GAAG,CAAC;IAC3CQ,SAAS,EAAEA,CAAA,KAAM;MACfhB,WAAW,CAACiB,iBAAiB,CAAC,CAAC,OAAO,CAAC,EAACT,GAAG,CAAC;IAC9C,CAAC;IACDU,OAAO,EAAEC,KAAK,IAAK;MACjBC,OAAO,CAACD,KAAK,CAAC,UAAU,EAAEA,KAAK,CAAC;IAClC;EACF,CAAC,CAAC;AACJ,CAAC;AAACG,GAAA,CAXWD,cAAc;EAAA,QAElBzB,WAAW;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}